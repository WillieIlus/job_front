import{o as i,f as l,F as y,l as m,h as s,c as x,w as u,j as g,i as p,p as h,t as a,q as b,K as f,L as c,M as _}from"./entry.bb66115f.js";const k={key:0},w={key:1},v={key:2},$={class:"p-6"},P={class:"grid grid-cols-12 gap-5"},j={class:"col-span-12 lg:col-span-1"},E={class:"px-2 mb-4 text-center mb-md-0"},S=["src"],B={class:"col-span-10"},J={class:"mb-1 fs-17"},C={key:0,class:"font-normal text-gray-500 dark:text-gray-300"},N={class:"flex flex-wrap mb-0 lg:gap-3 gap-y-3"},A={class:"mb-0 text-sm text-gray-500 dark:text-gray-300"},T={class:"mb-0 text-sm text-gray-500 dark:text-gray-300"},L=s("i",{class:"mdi mdi-map-marker"},null,-1),M={class:"mb-0 text-sm text-gray-500 dark:text-gray-300"},V=s("i",{class:"uil uil-wallet"},null,-1),q={class:"mt-4"},O={class:"flex flex-wrap gap-1.5"},z={class:"bg-green-500/20 text-green-500 text-11 px-2 py-0.5 font-medium rounded"},D={key:0,class:"bg-yellow-500/20 text-red-500 text-11 px-2 py-0.5 font-medium rounded"},F={class:"px-4 py-3 bg-gray-50 dark:bg-neutral-700"},I={class:"grid grid-cols-12"},U={class:"col-span-12 lg:col-span-6"},K={key:0,class:"flex flex-wrap gap-2 text-gray-700 dark:text-gray-50"},R=s("li",null,[s("i",{class:"uil uil-tag"}),h(" Category :")],-1),Y=s("li",null,"Views :",-1),G=s("li",null,"Clicks :",-1),H={class:"col-span-12 mt-2 lg:col-span-6 lg:mt-0"},Q={class:"ltr:lg:text-right rtl:lg:text-left dark:text-gray-50"},W=s("i",{class:"mdi mdi-chevron-double-right"},null,-1),Z={__name:"jobList",props:{jobs:{type:Array,required:!0},loading:Boolean,error:Object},setup(e){return(o,r)=>{const n=b;return e.loading?(i(),l("div",k," loading ")):e.error?(i(),l("div",w," error")):(i(),l("div",v,[(i(!0),l(y,null,m(e.jobs,t=>(i(),l("div",{key:t.slug,class:"my-6 relative overflow-hidden transition-all duration-500 ease-in-out bg-white border rounded-md border-gray-100/50 group/jobs group-data-[theme-color=violet]:hover:border-violet-500 group-data-[theme-color=sky]:hover:border-sky-500 group-data-[theme-color=red]:hover:border-red-500 group-data-[theme-color=green]:hover:border-green-500 group-data-[theme-color=pink]:hover:border-pink-500 group-data-[theme-color=blue]:hover:border-blue-500 hover:-translate-y-2 dark:bg-neutral-900 dark:border-neutral-600"},[s("div",$,[s("div",P,[s("div",j,[s("div",E,[t.company?(i(),x(n,{key:0,to:`/companies/${t.company.slug}`},{default:u(()=>[s("img",{src:t.company.logo,alt:"",class:"mx-auto img-fluid rounded-3 w-60"},null,8,S)]),_:2},1032,["to"])):g("",!0)])]),s("div",B,[s("h5",J,[p(n,{to:`/jobs/${t.slug}`,class:"dark:text-gray-50"},{default:u(()=>[h(a(t.title),1)]),_:2},1032,["to"]),t.work_experience!==null?(i(),l("small",C," ("+a(t.work_experience)+" Yrs Exp ) ",1)):g("",!0)]),s("ul",N,[s("li",null,[s("p",A,a(t.company?t.company.name:"No Company"),1)]),s("li",null,[s("p",T,[L,h(" "+a(t.address)+a(t.address&&t.location?", ":"")+a(t.location?t.location.name:""),1)])]),s("li",null,[s("p",M,[V,h(" "+a(t.salary!==null?t.currency:"")+" "+a(t.salary)+" / "+a(t.salary_type),1)])])]),s("div",q,[s("div",O,[s("span",z,a(t.job_type),1),t.is_featured?(i(),l("span",D,"Featured")):g("",!0)])])])])]),s("div",F,[s("div",I,[s("div",U,[t.category?(i(),l("ul",K,[R,s("li",null,[p(n,{to:`/categories/${t.category.slug}`,class:"primary-link text-muted"},{default:u(()=>[h(a(t.category.name),1)]),_:2},1032,["to"])]),Y,s("li",null,a(t.view_count),1),G,s("li",null,a(t.click_count),1)])):g("",!0)]),s("div",H,[s("div",Q,[p(n,{to:"mailto:"+t.email,"data-bs-toggle":"modal"},{default:u(()=>[h("Apply Now "),W]),_:2},1032,["to"])])])])])]))),128))]))}}},tt=f("job",{state:()=>({jobs:[],currentPage:1,itemsPerPage:8,job:null,loading:!1,error:null,query:""}),getters:{paginatedJobs:e=>{const o=(e.currentPage-1)*e.itemsPerPage,r=o+e.itemsPerPage;return e.jobs.slice(o,r)},totaljobs:e=>e.jobs.length,totalPages:e=>Math.ceil(e.jobs.length/e.itemsPerPage)},actions:{async handleError(e){this.loading=!0;try{await e()}catch(o){this.error=o.message}finally{this.loading=!1}},async fetchJobs(e={}){await this.handleError(async()=>{const o=Object.entries(e).map(([t,d])=>`${t}=${d}`).join("&"),n=await(await fetch(`${c}/jobs?${o}`)).json();this.jobs=n})},async fetchJobsByUser(e){await this.handleError(async()=>{const r=await(await fetch(`${c}/jobs?userId=${e}`)).json();this.jobs=r})},async fetchMyJobs(){await this.handleError(async()=>{const e=_(),r=await(await fetch(`${c}/jobs/my`,{headers:{"Content-Type":"application/json",Authorization:`Bearer ${e.token}`}})).json();this.jobs=r})},async fetchJob(e){await this.handleError(async()=>{const r=await(await fetch(`${c}/jobs/${e}`)).json();this.job=r})},async createJob(e){try{const n={Authorization:"Bearer "+_().token},t=await fetch(`${c}/jobs/`,{method:"POST",headers:n,body:e});if(!t.ok)throw new Error("Server responded with "+t.status);const d=await t.json();console.log(d)}catch(o){console.error("Error submitting form:",o),this.error=o}},async updateJob(e,o){this.loading=!0;const r=_();try{const t=await(await fetch(`${c}/jobs/${e}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r.token}`},body:JSON.stringify(o)})).json();this.jobs=this.jobs.map(d=>d.slug===e?t:d)}catch(n){console.error(n)}finally{this.loading=!1}},async deleteJob(e){await this.handleError(async()=>{await fetch(`${c}/jobs/${e}`,{method:"DELETE",headers:{"Content-Type":"application/json"}}),this.jobs=this.jobs.filter(o=>o.slug!==e)})},setCurrentPage(e){const o=Math.ceil(this.jobs.length/this.itemsPerPage);this.currentPage=Math.max(1,Math.min(o,e))}}});export{Z as _,tt as u};
